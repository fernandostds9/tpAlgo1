#include "../definiciones.h"
#include "../Funciones_TPI.h"
#include "../ejercicios.h"
#include "gtest/gtest.h"
#include <iostream>
#include <string>

using namespace std;


TEST(mayorIngresoPorPersonaActiva, test1) {

    eph_i ti = {{956,2017,1,1,2,2,57,1,2,0,30133,-1},
          {956,2017,2,1,2,1,58,0,0,-1,-1,0},
          {956,2017,3,1,2,1,29,1,3,40,10333,-1},
          {956,2017,4,1,2,1,25,1,3,40,10333,-1},
          {1131,2017,1,1,2,1,32,1,3,32,92332,16000},
          {1131,2017,2,0,2,1,33,1,3,32,20332,18000},
          {1023,2017,1,0,2,2,51,1,3,55,40312,17000},
          {1023,2017,2,0,2,2,15,0,0,-1,-1,0},
          {833,2017,1,0,2,2,64,0,3,-1,-1,0}};
    eph_h th = {{956,2017,2,0,2},
          {1131,2017,2,34000,2},
          {1023,2017,2,17000,2},
          {833,2017,2,0,2}};

    hogar res = mayorIngresoPorPersonaActiva(ti, th);

    EXPECT_EQ(res ,th[1]);
}

TEST(mayorIngresoPorPersonaActiva, test2) {

    eph_i ti = {{1208,2017,1,0,2,2,40,1,3,45,10333,19000},
                {1208,2017,2,0,2,2,43,1,3,36,40311,13000},
                {1208,2017,3,0,2,2,15,0,0,-1,-1,0},
                {1208,2017,4,0,2,1,12,0,0,-1,-1,0},
                {1208,2017,5,0,2,1,12,0,0,-1,-1,0},
                {1293,2017,1,0,2,1,33,1,3,40,10333,15000},
                {1293,2017,2,0,2,2,36,1,2,30,80133,10000},
                {1293,2017,3,0,2,2,5,0,0,-1,-1,0},
                {1353,2017,1,0,2,1,39,1,3,30,36314,8000},
                {292,2017,1,0,2,1,49,0,0,-1,-1,0},
                {292,2017,2,1,2,1,49,1,2,8,34123,0},
                {292,2017,3,0,2,1,23,0,0,-1,-1,0},
                {292,2017,4,0,2,1,15,0,0,-1,-1,0},
                {752,2017,1,0,2,1,60,1,2,32,72113,6000},
                {752,2017,2,0,2,1,51,1,3,40,41332,20000},
                {752,2017,3,0,2,1,27,1,3,40,10313,0},
                {752,2017,4,0,2,2,19,0,0,-1,-1,0}};
    eph_h th = {{1208,2017,2,32000,2},
          {1293,2017,2,25000,2},
          {1353,2017,2,8000,2},
          {292,2017,2,0,2},
          {752,2017,2,26000,2}};

    hogar res = mayorIngresoPorPersonaActiva(ti, th);

    EXPECT_EQ(res ,th[4]);
}