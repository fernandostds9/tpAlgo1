//
// Created by iherrera on 11/17/18.
//
#include "../definiciones.h"
#include "../Funciones_TPI.h"
#include "../ejercicios.h"
#include "gtest/gtest.h"
#include <iostream>
#include <string>

using namespace std;

TEST(esEncuestaValidaTEST, MatrizIndividuoInvalida) {

    eph_i ti = {{-4,  2017, 1, 1, 2, 1, 36, 1, 3, 60, 40312, 16300},
                {960,  2017, 5, 0, 2, 1, 51, 1, 3, 4,  55314, 1280},
                {960,  2017, 2, 7, 2, 1, 9, 1, 3, 0, 53314, 7000},
                {960,  2017, 2, 0, 2, 2, 19, 0, 9, -1, -1,    0},
                {1366, 2017, 1, 0, 2, 2, 92, 0, 0, -5, -1,    30000},
                {1388, 2017, 1, 1, 2, 2, 67, 1, 3, 25, 11331}};
    eph_h th = {{-50,  2017, 5, 16300, 2},
                {960,  2017, 2, 8280,  5},
                {960, 2017, 2, 20000}};

    EXPECT_EQ(false, esEncuestaValida(ti, th));
}

TEST(esEncuestaValidaTEST, matrizHogarInvalida) {

    eph_i ti = {{334,  2017, 1, 1, 2, 1, 36, 1, 3, 60, 40312, 16300},
                {960,  2017, 1, 0, 2, 1, 51, 1, 3, 4,  55314, 1280},
                {960,  2017, 2, 0, 2, 1, 20, 1, 3, 60, 53314, 7000},
                {960,  2017, 3, 0, 2, 2, 19, 0, 0, -1, -1,    0},
                {1366, 2017, 1, 0, 2, 2, 92, 0, 0, -1, -1,    0},
                {1388, 2017, 1, 1, 2, 2, 67, 1, 3, 25, 11331, 20000}};
    eph_h th = {{334,  2017, 2, 16300, 2},
                {960,  2017, 2, 8280,  2},
                {1366, 2017, 2, 0,     2},
                {1388, 2017, 2, 20000}};

    EXPECT_EQ(false, esEncuestaValida(ti, th));
}

TEST(esEncuestaValidaTEST, individuoInvalido) {

    eph_i ti = {{-40,  2017, 1, 7, 5, 1, 36, 1, 3, 60, 40312, 16300},
                {960,  2017, 1, 0, 2, 1, 51, 1, 3, 4,  55314, 1280},
                {960,  2017, 2, 0, 2, 1, 9, 1, 3, 60, 53314, 7000},
                {960,  2017, 3, 0, 2, 2, 19, 0, 0, 9000, -1,    9000},
                {1366, 2017, 1, 0, 2, 2, 92, 0, 0, -1, -1,    0},
                {1388, 2017, 1, 1, 2, 2, 67, 1, 3, 25, 11331, 20000}};
    eph_h th = {{334,  2017, 2, 16300, 2},
                {960,  2017, 2, 8280,  2},
                {1366, 2017, 2, 0,     2},
                {1388, 2017, 2, 20000, 2}};

    EXPECT_EQ(false, esEncuestaValida(ti, th));
}

TEST(esEncuestaValidaTEST, hogarInvalido) {

    eph_i ti = {{334,  2017, 1, 1, 2, 1, 36, 1, 3, 60, 40312, 16300},
                {960,  2017, 1, 0, 2, 1, 51, 1, 3, 4,  55314, 1280},
                {960,  2017, 2, 0, 2, 1, 20, 1, 3, 60, 53314, 7000},
                {960,  2017, 3, 0, 2, 2, 19, 0, 0, -1, -1,    0},
                {1366, 2017, 1, 0, 2, 2, 92, 0, 0, -1, -1,    0},
                {1388, 2017, 1, 1, 2, 2, 67, 1, 3, 25, 11331, 20000}};
    eph_h th = {{-50,  2017, 7, 16300, 10},
                {960,  2017, 2, 8280,  2},
                {1366, 2017, 2, 0,     2},
                {1388, 2017, 2, 20000, 2}};

    EXPECT_EQ(false, esEncuestaValida(ti, th));
}

TEST(esEncuestaValidaTEST, individuoRepetido) {

    eph_i ti = {{334,  2017, 1, 1, 2, 1, 36, 1, 3, 60, 40312, 16300},
                {960,  2017, 1, 0, 2, 1, 51, 1, 3, 4,  55314, 1280},
                {960,  2017, 3, 0, 2, 1, 20, 1, 3, 60, 53314, 7000},
                {960,  2017, 3, 0, 2, 2, 19, 0, 0, -1, -1,    0},
                {1366, 2017, 1, 0, 2, 2, 92, 0, 0, -1, -1,    0},
                {1388, 2017, 1, 1, 2, 2, 67, 1, 3, 25, 11331, 20000}};
    eph_h th = {{334,  2017, 2, 16300, 2},
                {960,  2017, 2, 8280,  2},
                {1366, 2017, 2, 0,     2},
                {1388, 2017, 2, 20000, 2}};

    EXPECT_EQ(false, esEncuestaValida(ti, th));
}

TEST(esEncuestaValidaTEST, hogarRepetido) {

    eph_i ti = {{334,  2017, 1, 1, 2, 1, 36, 1, 3, 60, 40312, 16300},
                {960,  2017, 1, 0, 2, 1, 51, 1, 3, 4,  55314, 1280},
                {960,  2017, 2, 0, 2, 1, 20, 1, 3, 60, 53314, 7000},
                {960,  2017, 3, 0, 2, 2, 19, 0, 0, -1, -1,    0},
                {1366, 2017, 1, 0, 2, 2, 92, 0, 0, -1, -1,    0},
                {1388, 2017, 1, 1, 2, 2, 67, 1, 3, 25, 11331, 20000}};
    eph_h th = {{334,  2017, 2, 16300, 2},
                {960,  2017, 2, 8280,  2},
                {960, 2017, 2, 0,     2},
                {1388, 2017, 2, 20000, 2}};

    EXPECT_EQ(false, esEncuestaValida(ti, th));
}

TEST(esEncuestaValidaTEST, hogarVacio) {

    eph_i ti = {{334,  2017, 1, 1, 2, 1, 36, 1, 3, 60, 40312, 16300},
                {960,  2017, 1, 0, 2, 1, 51, 1, 3, 4,  55314, 1280},
                {960,  2017, 2, 0, 2, 1, 20, 1, 3, 60, 53314, 7000},
                {960,  2017, 3, 0, 2, 2, 19, 0, 0, -1, -1,    0},
                {1366, 2017, 1, 0, 2, 2, 92, 0, 0, -1, -1,    0},
                {1388, 2017, 1, 1, 2, 2, 67, 1, 3, 25, 11331, 20000}};
    eph_h th = {{334,  2017, 2, 16300, 2},
                {960,  2017, 2, 8280,  2},
                {1366, 2017, 2, 0,     2},
                {1388, 2017, 2, 20000, 2},
                {1400, 2017, 2, 20000, 2}};

    EXPECT_EQ(false, esEncuestaValida(ti, th));
}

TEST(esEncuestaValidaTEST, ingresoHogarFueraDeRango) {

    eph_i ti = {{334,  2017, 1, 1, 2, 1, 36, 1, 3, 60, 40312, 16300},
                {960,  2017, 1, 0, 2, 1, 51, 1, 3, 4,  55314, 1280},
                {960,  2017, 2, 0, 2, 1, 20, 1, 3, 60, 53314, 7000},
                {960,  2017, 3, 0, 2, 2, 19, 0, 0, -1, -1,    0},
                {1366, 2017, 1, 0, 2, 2, 92, 0, 0, -1, -1,    0},
                {1388, 2017, 1, 1, 2, 2, 67, 1, 3, 25, 11331, 20000}};
    eph_h th = {{334,  2017, 2, 50000000, 2},
                {960,  2017, 2, 8280,  2},
                {1366, 2017, 2, 0,     2},
                {1388, 2017, 2, 20000, 2}};

    EXPECT_EQ(false, esEncuestaValida(ti, th));
}

TEST(esEncuestaValidaTEST, individuoPPO4_CODInvalido) {

    eph_i ti = {{334,  2017, 1, 1, 2, 1, 36, 1, 3, 60, -500000, 16300},
                {960,  2017, 1, 0, 2, 1, 51, 1, 3, 4,  55314, 1280},
                {960,  2017, 2, 0, 2, 1, 20, 1, 3, 60, 53314, 7000},
                {960,  2017, 3, 0, 2, 2, 19, 0, 0, -1, -1,    0},
                {1366, 2017, 1, 0, 2, 2, 92, 0, 0, -1, -1,    0},
                {1388, 2017, 1, 1, 2, 2, 67, 1, 3, 25, 11331, 20000}};
    eph_h th = {{334,  2017, 2, 16300, 2},
                {960,  2017, 2, 8280,  2},
                {1366, 2017, 2, 0,     2},
                {1388, 2017, 2, 20000, 2},
                {1400, 2017, 2, 20000, 2}};

    EXPECT_EQ(false, esEncuestaValida(ti, th));
}